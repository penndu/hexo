---
title: Kickstart 无人值守原理及简介
tags:
  - 工具
categories:
  - 运维教程
date: 2020-09-06 00:00:00
---

> 机房近期进来大批量的新服务器，装机成了最大烦恼，因为总是遇到一些机械式的重复工作。如何进行一次大批量部署服务器安装成了现在必须要解决的问题。今天杜老师讲解下 Kickstart 无人值守的原理！

<!-- more -->

## 简介原理

客户机需通过网卡「即 PXE」启动，发现 DHCP 服务器，从而自动获得 IP 及相关网络配置。

同时也能获取 TFTP 服务器地址，通过 TFTP 提供 BootLoader，从而使客户端可以通过此 BootLoader 指定的 FTP/HTTP/NFS 服务器加载 vmlinuz 和 initrd.img 等安装系统所需包，进而安装系统。

## 搭建无人值守步骤

1. 搭建 DHCP 服务器；

2. 搭建 TFTP 服务器；

3. 搭建 FTP/HTTP/NFS 服务器。

## PXE 的介绍

PXE 预启动执行环境，由 Intel 公司开发，工作于 C/S 网络模式，支持电脑通过网络从远端服务器下载映像，由此支持通过网络启动操作系统，在启动过程中，终端要求服务器分配 IP 地址，再用 TFTP 协议下载一个启动软件包到本机内存中执行，由这个启动软件包完成终端基本软件设置，从而引导预先安装在服务器中的终端操作系统。严格来说，PXE 并不是一种安装方式，而是一种引导方式：

{% image https://cdn.dusays.com/2020/09/259-1.jpg %}

## Kickstart 的简介

Kickstart 是种无人值守的安装方式。它的工作原理是在安装过程中记录需要人工干预填写的各种参数，生成一个名为 ks.cfg 的文件。如果在安装过程中出现要填写参数的情况，安装程序首先去查找 ks.cfg 文件，根据此文件的参数自动应答。ks.cfg 文件涵盖安装过程中可能出现的所有需要填写的参数从而实现无人值守自动安装：

{% image https://cdn.dusays.com/2020/09/259-2.jpg %}
