---
title: tar 命令的使用
tags:
  - 命令
categories:
  - 运维教程
date: 2019-11-27 00:00:00
---

>  tar 命令常用于备份文件。tar 是用来建立、还原备份文件的 Linux 命令，可以加入、解开备份文件内的文件。今天杜老师为大家分享一下 tar 命令的使用！

<!-- more -->

## 命令介绍

tar 是 Linux 平台下最常用的归档工具，其除了打包文件外，还可和 gzip/bzip2 配合使用进行文件压缩，在开源平台中发布的大部分软件包都是使用 tar 命令打包。

除了常用与软件安装时解压软件包外，tar 命令也常用于备份文件等，比如备份网站源码、SQL 数据库等待。

## 命令参数

列表如下：

| 参数 | 作用 |
| - | - |
| -A | 新增文件到已存在的备份文件中 |
| -c | 建立新的备份文件 |
| -C | 切换到指定的目录 |
| -d | 对比备份文件内和文件系统上文件的差异 |
| -f | 指定备份文件 |
| -h | 不会建立符号连接，直接复制该连接指向的原始文件 |
| -k | 解压缩备份文件时，不覆盖已有的文件 |
| -K | 从指定的文件开始还原 |
| -l | 复制文件或目录存放的文件系统，必须与指令执行时所处的文件系统相同，否则不予复制 |
| -m | 解压缩文件时，不变更文件的更改时间 |
| -N | 只将较指定日期更新的文件保存到备份文件里 |
| -p | 用原来的文件权限还原文件 |
| -P | 文件名用绝对名称，不移除文件名称前的根符号 |
| -r | 新增文件到已存在的备份文件的结尾部分 |
| -s | 还原文件的顺序和备份文件内的存放顺序相同 |
| -t | 列出备份文件内容 |
| -u | 仅置换备份文件内的文件更新的文件 |
| -U | 解开压缩文件还原文件之前，先解除文件的连接 |
| -v | 显示指令执行过程 |
| -V | 建立使用指定的卷册名称的备份文件 |
| -w | 遭遇问题时先询问用户 |
| -W | 写入备份文件之后，确认文件正确无误 |
| -x | 从备份文件中还原文件 |
| -z | 通过 gzip 指令来处理备份文件 |
| --atime-preserve | 不变更文件的存取时间 |
| --backup | 移除文件前先进行备份 |
| --checkpoint | 读取备份文件列出目录名称 |
| --delete | 从备份文件中删除指定文件 |
| --exclude | 排除符合范本样式文件 |
| --group | 把加入设备文件中的文件所属群组设成指定的群组 |
| --help | 在线帮助 |
| --newer-mtime | 只保存更改的文件 |
| --no-recursion | 不做递归处理，就是指定目录下的所有文件及子目录不予处理 |
| --numeric-owner | 以 UID、GID 取代用户名称和群组名称 |
| --owner | 把加入备份文件中的文件的拥有者设成指定的用户 |
| --recursive-unlink | 解开压缩文件还原目录之前，先解除整个目录下所有文件连接 |
| --remove-files | 文件加入备份文件后就将其删除 |
| --same-owner | 尝试以相同的文件拥有者来还原文件 |
| --totals | 备份文件建立之后，列出文件大小 |
| --version | 显示版本信息 |