---
title: 如何上线一个博客「下篇」
tags:
  - 博客
categories:
  - 网站搭建
date: 2019-07-13 00:00:00
---

> 经过十多天的折腾，杜老师的私人技术博客终于和大家见面了。为什么折腾这么久？当然是遇到了一些问题，上线一个博客真的很困难吗？今天我们来聊聊吧！

<!-- more -->

## 服务系统选择

杜老师的学生大部分用的都是 CentOS 系统，这是一款重量级 Linux 操作系统，用作静态博客网站太过大材小用，所以杜老师选择了较为轻量的 Ubuntu 系统，这款麻雀虽小五脏俱全的系统深受杜老师喜爱。

版本没有严格要求，杜老师选择了 18.04 TLS 这一版，TLS 是技术长期支持，表示官方会在很长一段时间内维护系统的更新升级。

## 运行环境搭建

我们需要使用 `npm` 软件管理器安装 Hexo 命令行，所以需要先安装 `npm`：

```
apt -y install npm
```

然后通过 `npm` 软件管理器安装 Hexo 命令行：

```
npm install hexo-cli -g
```

接下来就可以使用 Hexo 来配置博客网站，不过 Hexo 程序源码位于 GitHub，部署之前需要先安装 Git 工具：

```
apt -y install git
```

之后就可以使用 Hexo 命令来生成博客网站文件，命令执行后会自动创建一个目录为 `blog`，里面就是博客网站文件，您也可以将 `blog` 改成其它名称，不过不可以使用中文哦：

```
hexo init blog
```

## 生成博客网页

上面的命令是生成博客程序文件，我们还需运行下面的命令生成可以访问的网页文件。首先生成网页文件：

```
cd blog/
hexo g
```

有个网页文件之后，我们还需要可以访问该网页，我们通过 Nginx 来实现，安装的命令是：

```
apt -y install nginx
```

使用 Hexo 的网页文件目录替换掉 Nginx 的默认网站根目录，并建立持续集成的关系：

```
cd /var/www/
mv html/ html.bak
mv ~/blog/public/ html
ln -s /var/www/html /root/blog/public
```

最后启动 Nginx 并设置开机启动即可：

```
systemctl start nginx
systemctl enable nginx
```

## 如何更新博客

经过上面的步骤后，就可以通过域名访问到刚创建好的博客了。如何更新博客的内容呢？通过 Hexo 自带的命令，就可以实现更新配置等操作，不过记得要在 `blog` 目录才可以：

```
cd blog/
hexo new TITLE
```

`TITLE` 为文章标题，您可以自定义，执行完上面的命令后系统会生成一个文件，并以红色字体提示，使用编辑器修改该文件内容即可，最后使用 Hexo 命令生成并更新网页文件即可：

```
hexo g
```