---
title: 去不图床外链较慢说明
tags:
  - 图床
categories:
  - 资源分享
date: 2024-08-25 00:00:00
---

> 近期有小伙伴频繁反馈说图床外链速度较慢，杜老师因工作原因，一直没时间彻底解决该问题，只能通过增加临时节点缓解访问压力。目前工作压力减小，再次也说明一下该问题，以及相关解决措施。

<!-- more -->

## 原因分析

先说一下目前图床架构。官网源码及图床数据皆托管在家中服务器，通过内网穿透至外网服务器，使用星极世纪赞助的 CDN 进行加速。

负责内网穿透的外网服务器，这里简称为中转服务器。目前有三台中转服务器，一台负责中转图床官网，两台负责中转图片外链。

问题就出现在其中一台中转服务器上。该服务器被持续攻击中，使得回源失败，故而导致外链较慢。

有小伙伴可能好奇，为何躲在 CDN 后面的中转服务器会出现 IP 泄露的问题。这是因为在软云跑路后，自建的 CDN 节点不够用了，中转服务器只能放置前端了。

## 图床现状

目前图床在星极世纪赞助下勉强生存，之前的服务器还有一年使用周期，暂时不会考虑扩容。

不过小伙伴们不用担心运营问题。去不虽小，但不会出现数据丢失或突然跑路的情况。敬请放心使用！

随着图床用户越来越多，并发请求量增大的关系，造成外链速度减缓。可能根据使用量考虑增加 CDN 节点，或中转服务器。

在此感谢星极世纪的 CDN 赞助，会在后面联合星极世纪搞个活动，推广一下！

## 解决措施

为了解决现阶段的外链缓慢问题，已对现有架构做出调整。

将去掉图片外链中转服务器，CDN 直接回源至家中服务器的外网端口。

这种情况会在访问压力较大时出现重新拨号的问题，而家用带宽重新拨号后，IP 会自动更换。

虽然有 DDNS 实现解析同步，但解析缓存有至少一分钟的延迟，所以会出现访问失败的情况。

目前使用监控加备份线路的方式应对这一问题，如果小伙伴有更好方案，可以推荐给杜老师！

备份线路类似于中转服务器，通过内穿实现快速连接，相比 DDNS 回源生效速度快。

## 未来方向

除了外链问题外还有很多程序功能上面的建议，杜老师也一一反馈给了图床程序作者。

根据开发群中反馈，团队目前正大力开发 2.0 版本，预计本年的十月末会有内测版本。

不知是否会吸收小伙伴们之前提出的建议，还请期待。

另外如有低价稳定的云平台，欢迎留言推荐！

最后说下此文主要解释外链缓慢原因，以及杜老师的解决方案。

写的有一些乱，因为是变开会编写，领导那激情的发言总能不经意间打断杜老师的思路。又不能削领导，只能通过疯狂敲击键盘宣泄心中不满！