---
title: 一个小博客的成长
tags:
  - 网站
categories:
  - 网站搭建
date: 2020-02-24 00:00:00
---

> 有学生找到我，说想做一个和我这个一样的博客，但不知道如何操作。今天杜老师与大家聊下，如何搭建一个博客，以及一个小博客的成长！

<!-- more -->

## 博客初建

首先你在博客的运营商，例如网易、新浪 and so on 上注册，他们提供免费域名，免费空间，甚至免费程序模板，我们所要做的，就是安心写写文章。

过段时间之后，你会发现，小博客无法满足你的要求了，例如代码高亮，自定义导航栏。这时我们就可以申请个空间，去搭建真正属于自己的博客。

前期的博客只是写着玩，无非花费太多，在目前的互联网上，你可以找到免费的空间，免费域名，甚至免费程序。不过一段时间之后，你会发现免费的才是最贵的，动不动就出现一些问题，让你没法安心的写博客。

既然如此，我们转战收费市场，在知名度较高的服务商，买个空间以及域名，将之前的博客转移过去。在你感叹终于可以安心写博客时，你的访问量也逐渐升高。服务商不断打电话催你：你的网站访问太大，小小的空间无法让你再施展，建议你升级下空间。

然而，空间的升级是无止境的，所以你干脆狠下心，买一台服务器。但服务器价格太高，买一个 VPS 也还不错。自己定义环境，想要啥就有啥。在你幻想再也不用听客服哔哔时，突然发现网站宕了。

原来，VPS 也无法满足你了，看来，网站的访问量已经特别高了，如果你想，相信访问量带来的广告费已经可以支付购买服务器的差价了。

最终，你还是将博客，运行在服务器上面。你想升级之路到此为止？非也，后面的路还长着呢！

博客做的越来越大，以致于一台服务器也承受不了时，我们就需要扩展架构了。

## 博客升级

要做的就是 Web 和数据库分离，使 Web 可以存放更多文件，数据库的存取效率更高。请求先发送到 Web 端，Web 端判断请求信息为静态还是动态的，静态本地处理直接返回，动态的就连接到数据库调用数据。

增加一台 Web 服务器，专门用于存放静态文件，在此上做 Nginx 基于文件类型的分发，静态的自己去处理，动态交给另一台服务器处理。这样就把大量请求分流，减少动态服务器的压力。

再增加一台 Web，同样进行动态文件处理，更大程度减少动态服务器的压力。

增加一台数据库服务器，将两台服务器读写分工，一台只负责读，另一台只负责写入。

在 Web 和数据库之间加入 Memcached 缓存服务器，加速数据处理过程。

大量购买节点，搭建 CDN 服务器，在最外层分担压力。
