---
title: CDN 原理及使用
tags:
  - 技术
categories:
  - 运维教程
date: 2020-04-09 00:00:00
nav_tabs: true
---

> 关于 CDN 的具体概念，可以参考百度百科，百度搜 CDN 即可，我们这里会用 “白话” 这种形式，讲述一下 CDN 的原理，以及使用步骤。

<!-- more -->

## 技术原理

先简单说一下原理。比如我们这里有一台服务器，随着用户体验需求越来越高，我们需要提升访客访问速度，最有效的方式，就是在访客家门口放一台服务器。但是每个访客都放一台，那成本太高了，所以我们可以按照访客地区分布，比如北京区的访客统一在北京放一台。服务器是有了，但访客想要获取的并不是服务器，而是服务器的数据。那如何同步所有服务器数据？

这里就可以使用 CDN，用户先去访问 CDN 服务器，CDN 服务器会查看下自身缓存，如果缓存中存在访客想要的数据，就会直接发给用户，这种直连的返回会提升访问速度；如果 CDN 中没有此项缓存，CDN 会去找原服务器请求数据，然后转发数据给用户并同时缓存一份到自身缓存中，下次如果再有任何用户请求相同数据，CDN 可直接从缓存中读取。

## 实现方式

使用分为两种，第一种为自己搭建 CDN 服务器。不过并不建议个人以及小型公司使用这种形式，因为我们需要购买的节点服务器成本很大，倒不如第二种实惠！

第二种为网上购买服务。通常使用这一种比较多，原因是 CDN 需要分布每个地区，如果在这些地区都购买服务器成本太大，而且搭建每个节点又太麻烦，购买服务可以节省时间、成本。

购买服务的步骤简单为：寻找 CDN 服务商，购买内容分发服务，将自己原服务器的 IP 提交给 CDN 服务商，等服务商解析后会给你一个域名，通过 CNAME 的形式替换掉原域名解析。

实现形式：客户端在访问域名之后，域名服务器会解析到 CDN 服务商的域名，服务商的域名解析服务会定位你的 IP，然后将距离最近的 CDN 服务器地址发送给你，你就可以直接与 CDN 服务器通信提高访问的速度。